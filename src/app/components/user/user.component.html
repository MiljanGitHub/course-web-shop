<ng-container *ngIf="mode === 'login' && userForm">
    <form [formGroup]="userForm"  class="needs-validation" novalidate>
        <div class="form-group">
          <label for="usernameUser">Username</label>
          <input class="form-control" formControlName="korisnickoIme" id="usernameUser"  placeholder="Enter username" required>
          
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('required')">
                This field is required.
            </small>
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('minlength')">
                The minimum length for this field is {{userForm.get('korisnickoIme').errors.minlength.requiredLength}} characters.
            </small>
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('cannotContainWhitespaceOnly')">
                This field must not contain whitespaces.
             </small>
        </div>

        <div class="form-group">
          <label for="passwordUser">Password</label>
          <input type="password" class="form-control" formControlName="lozinka" placeholder="Secret password" id="passwordUser" required >
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('required')">
                This field is required.
            </small>
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('minlength')">
                The minimum length for this field is {{userForm.get('lozinka').errors.minlength.requiredLength}} characters.
            </small>
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('cannotContainWhitespaceOnly')">
                This field must not contain whitespaces.
             </small>
        </div>

    </form>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="submitFormLogin()" [disabled]="userForm.invalid || !userForm.dirty"  type="submit">Login</button>
    </div>
</ng-container>


<ng-container *ngIf="mode === 'register' && userForm">
    <form [formGroup]="userForm" class="needs-validation" novalidate>
          <label for="usernameUser">Username</label>
          <input class="form-control" formControlName="korisnickoIme" id="usernameUser"  placeholder="Enter username" required>
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('required')">
                This field is required.
            </small>
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('minlength')">
                The minimum length for this field is {{userForm.get('korisnickoIme').errors.minlength.requiredLength}} characters.
            </small>
            <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('cannotContainWhitespaceOnly')">
                This field must not contain whitespaces.
             </small>

        <div class="form-group">
          <label for="passwordUser">Password</label>
          <input type="password" class="form-control" formControlName="lozinka" placeholder="Secret password" id="passwordUser" required >
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('required')">
                This field is required.
            </small>
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('minlength')">
                The minimum length for this field is {{userForm.get('lozinka').errors.minlength.requiredLength}} characters.
            </small>
            <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('cannotContainWhitespaceOnly')">
                This field must not contain whitespaces.
             </small>
        </div>

        <div class="form-group">
            <label for="emailUser">Email</label>
            <input type="email" class="form-control" formControlName="email" placeholder="Email" id="emailUser" required >
              <small class="text-danger" *ngIf="userForm.get('email').hasError('required')">
                  This field is required.
              </small>
              <small class="text-danger" *ngIf="userForm.get('email').hasError('email')">
                  This field must be in email format.
              </small>
        </div>

    </form>

    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="submitFormRegister()" [disabled]="userForm.invalid || !userForm.dirty"  type="submit">Register</button>
    </div>
</ng-container>


<ng-container *ngIf="mode === 'edit' && userForm">
    <div class="container">
        <div class="row">
            <div class="form-inline justify-content-center">
                <form [formGroup]="userForm"  class="row g-3 needs-validation" novalidate>
                    <div class="col-md-4">
                      <label for="id" class="form-label">ID</label>
                      <input type="text" class="form-control" [value]="user['key']" disabled  id="id">
                    </div>
                    <!-- Id, Korisnicko ime, Email  -->
                    <div class="col-md-4">
                      <label for="korisnickoIme" class="form-label">Korisnicko ime</label>
                      <input type="text" class="form-control" formControlName="korisnickoIme" id="korisnickoIme" required>
            
                        <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('required')">
                            This field is required.
                        </small>
                        <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('minlength')">
                            The minimum length for this field is {{userForm.get('korisnickoIme').errors.minlength.requiredLength}} characters.
                        </small>
                        <small class="text-danger" *ngIf="userForm.get('korisnickoIme').hasError('cannotContainWhitespaceOnly')">
                          This field must not contain whitespaces.
                       </small>
            
                  
                    </div>
            
                    <div class="col-md-4">
                      <label for="email" class="form-label">Email</label>
                      <input type="text" class="form-control" formControlName="email" id="autor" [value]="user['email']" aria-describedby="inputGroupPrepend" required>
            
                        <small class="text-danger" *ngIf="userForm.get('email').hasError('required')">
                            This field is required.
                        </small>
                        <small class="text-danger" *ngIf="userForm.get('email').hasError('email')">
                            This field must be in email format.
                        </small>
            
                    </div>
                    
                    <!-- red 2  Ime, Prezime i Lozinka--> 
                    <div class="col-md-4">
                        <label for="ime" class="form-label">Ime</label>
                        <input type="text" class="form-control" formControlName="ime"  id="ime" [value]="user['ime']">
            
                            <small class="text-danger" *ngIf="userForm.get('ime').hasError('minlength')">
                                The minimum length for this field is {{userForm.get('ime').errors.minlength.requiredLength}} characters.
                            </small>
                            <small class="text-danger" *ngIf="userForm.get('ime').hasError('cannotContainWhitespaceOnly')">
                                This field must not contain whitespaces.
                             </small>
            
                      </div>
                      
                      <div class="col-md-4">
                        <label for="prezime" class="form-label">Prezime</label>
                        <input type="text" class="form-control" formControlName="prezime" id="prezime" required>
              
                          <small class="text-danger" *ngIf="userForm.get('prezime').hasError('minlength')">
                              The minimum length for this field is {{userForm.get('prezime').errors.minlength.requiredLength}} characters.
                          </small>
                          <small class="text-danger" *ngIf="userForm.get('prezime').hasError('cannotContainWhitespaceOnly')">
                            This field must not contain whitespaces.
                         </small>
              
                      </div>
              
                      <div class="col-md-4">
                        <label for="lozinka" class="form-label">Lozinka</label>
                        <input type="text" class="form-control" formControlName="lozinka" id="lozinka" [value]="user['lozinka']" aria-describedby="inputGroupPrepend" required>
              
                          <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('required')">
                              This field is required.
                          </small>
            
                          <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('minlength')">
                             The minimum length for this field is {{userForm.get('lozinka').errors.minlength.requiredLength}} characters.
                          </small>
            
                          <small class="text-danger" *ngIf="userForm.get('lozinka').hasError('cannotContainWhitespaceOnly')">
                            This field must not contain whitespaces.
                         </small>
              
                      </div>
            
                      <!-- red 3 Adresa, Telefon i Datum rodjenja --> 
                      <div class="col-md-4">
                        <label for="adresa" class="form-label">Adresa</label>
                        <input type="text" class="form-control" formControlName="adresa" id="adresa" [value]="user['adresa']">
            
                            <small class="text-danger" *ngIf="userForm.get('adresa').hasError('minlength')">
                                The minimum length for this field is {{userForm.get('adresa').errors.minlength.requiredLength}} characters.
                            </small>
                            <small class="text-danger" *ngIf="userForm.get('adresa').hasError('cannotContainWhitespaceOnly')">
                                This field must not contain whitespaces.
                            </small>
            
                      </div>
                      
                      <div class="col-md-4">
                        <label for="telefon" class="form-label">Telefon</label>
                        <input type="text" class="form-control" formControlName="telefon" [value]="user['telefon']" id="telefon" required>
              
                          <small class="text-danger" *ngIf="userForm.get('telefon').hasError('minlength')">
                              The minimum length for this field is {{userForm.get('telefon').errors.minlength.requiredLength}} characters.
                          </small>
                          <small class="text-danger" *ngIf="userForm.get('telefon').hasError('cannotContainWhitespaceOnly')">
                            This field must not contain whitespaces.
                         </small>
              
                      </div>
              
                      <div class="col-md-4">
                        <label for="datumRodjenja" class="form-label">Datum rodjenja</label>
                        <div class="input-group">
                            <input type="text" class="form-control"  formControlName="datumRodjenja"   name="dp"  ngbDatepicker #d="ngbDatepicker">
                            <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                              
                              <small class="text-danger" *ngIf="userForm.get('datumRodjenja').hasError('invalidDate')">
                                Date must be in valid format.
                              </small>
                        </div>            
                      </div>

                      <div class="col-12">
                        <button class="btn btn-primary" (click)="submitFormEdit()" [disabled]="userForm.invalid || !userForm.dirty" type="submit">Submit form</button>
                      </div>
                      <div class="col-12">
                        <button class="btn btn-primary" (click)="deactivateUser()">Deactivate user</button>
                      </div>
                </form>

            </div>

        </div>
    </div>

</ng-container>


